(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-15370623"],{"3fea":function(t,e,s){"use strict";s.d(e,"a",(function(){return c})),s.d(e,"e",(function(){return h})),s.d(e,"b",(function(){return x})),s.d(e,"c",(function(){return y})),s.d(e,"d",(function(){return O}));var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 19 19"}},[s("path",{staticClass:"view-icon-svg",attrs:{d:"M17.5,3H.5a.5.5,0,0,1,0-1h17a.5.5,0,0,1,0,1Z"}}),t._v(" "),s("path",{staticClass:"view-icon-svg",attrs:{d:"M17.5,10H.5a.5.5,0,0,1,0-1h17a.5.5,0,0,1,0,1Z"}}),t._v(" "),s("path",{staticClass:"view-icon-svg",attrs:{d:"M17.5,17H.5a.5.5,0,0,1,0-1h17a.5.5,0,0,1,0,1Z"}})])},i=[],n=s("2877"),l={},r=Object(n["a"])(l,a,i,!1,null,null,null),c=r.exports,o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 19 19"}},[s("path",{staticClass:"view-icon-svg",attrs:{d:"M17.5,3H6.5a.5.5,0,0,1,0-1h11a.5.5,0,0,1,0,1Z"}}),t._v(" "),s("path",{staticClass:"view-icon-svg",attrs:{d:"M3,2V3H1V2H3m.12-1H.88A.87.87,0,0,0,0,1.88V3.12A.87.87,0,0,0,.88,4H3.12A.87.87,0,0,0,4,3.12V1.88A.87.87,0,0,0,3.12,1Z"}}),t._v(" "),s("path",{staticClass:"view-icon-svg",attrs:{d:"M3,9v1H1V9H3m.12-1H.88A.87.87,0,0,0,0,8.88v1.24A.87.87,0,0,0,.88,11H3.12A.87.87,0,0,0,4,10.12V8.88A.87.87,0,0,0,3.12,8Z"}}),t._v(" "),s("path",{staticClass:"view-icon-svg",attrs:{d:"M3,16v1H1V16H3m.12-1H.88a.87.87,0,0,0-.88.88v1.24A.87.87,0,0,0,.88,18H3.12A.87.87,0,0,0,4,17.12V15.88A.87.87,0,0,0,3.12,15Z"}}),t._v(" "),s("path",{staticClass:"view-icon-svg",attrs:{d:"M17.5,10H6.5a.5.5,0,0,1,0-1h11a.5.5,0,0,1,0,1Z"}}),t._v(" "),s("path",{staticClass:"view-icon-svg",attrs:{d:"M17.5,17H6.5a.5.5,0,0,1,0-1h11a.5.5,0,0,1,0,1Z"}})])},d=[],m={},u=Object(n["a"])(m,o,d,!1,null,null,null),h=u.exports,g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 19 19"}},[s("path",{staticClass:"view-icon-svg",attrs:{d:"M7,2V8H1V2H7m.12-1H.88A.87.87,0,0,0,0,1.88V8.12A.87.87,0,0,0,.88,9H7.12A.87.87,0,0,0,8,8.12V1.88A.87.87,0,0,0,7.12,1Z"}}),t._v(" "),s("path",{staticClass:"view-icon-svg",attrs:{d:"M17,2V8H11V2h6m.12-1H10.88a.87.87,0,0,0-.88.88V8.12a.87.87,0,0,0,.88.88h6.24A.87.87,0,0,0,18,8.12V1.88A.87.87,0,0,0,17.12,1Z"}}),t._v(" "),s("path",{staticClass:"view-icon-svg",attrs:{d:"M7,12v6H1V12H7m.12-1H.88a.87.87,0,0,0-.88.88v6.24A.87.87,0,0,0,.88,19H7.12A.87.87,0,0,0,8,18.12V11.88A.87.87,0,0,0,7.12,11Z"}}),t._v(" "),s("path",{staticClass:"view-icon-svg",attrs:{d:"M17,12v6H11V12h6m.12-1H10.88a.87.87,0,0,0-.88.88v6.24a.87.87,0,0,0,.88.88h6.24a.87.87,0,0,0,.88-.88V11.88a.87.87,0,0,0-.88-.88Z"}})])},p=[],v={},f=Object(n["a"])(v,g,p,!1,null,null,null),x=f.exports,b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text-center"},[s("svg",{staticClass:"main",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 9 17"}},[s("rect",{attrs:{x:"0.48",y:"0.5",width:"7",height:"1"}}),t._v(" "),s("rect",{attrs:{x:"0.48",y:"7.5",width:"7",height:"1"}}),t._v(" "),s("rect",{attrs:{x:"0.48",y:"15.5",width:"7",height:"1"}})]),t._v(" "),s("svg",{staticClass:"sub",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 17"}},[s("rect",{attrs:{x:"1.56",y:"0.5",width:"16",height:"1"}}),t._v(" "),s("rect",{attrs:{x:"1.56",y:"7.5",width:"16",height:"1"}}),t._v(" "),s("rect",{attrs:{x:"1.56",y:"15.5",width:"16",height:"1"}})])])},w=[],_={},C=Object(n["a"])(_,b,w,!1,null,null,null),y=C.exports,k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 26 17"}},[s("rect",{attrs:{x:"0.5",y:"0.5",width:"25",height:"1"}}),t._v(" "),s("rect",{attrs:{x:"0.5",y:"7.5",width:"25",height:"1"}}),t._v(" "),s("rect",{attrs:{x:"0.5",y:"15.5",width:"25",height:"1"}})])},I=[],M={},A=Object(n["a"])(M,k,I,!1,null,null,null),O=A.exports},d92f:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-tabs",t._l(t.currentCompanies,(function(t,e){return s("b-tab",{key:e,attrs:{title:t.name}},[s("OrderList",{attrs:{company:t,i:e}})],1)})),1)],1)},i=[],n=s("5530"),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-row",[s("b-colxx",{staticClass:"disable-text-selection"},[s("list-page-heading",{attrs:{title:t.$t("menu.data-list"),selectAll:t.selectAll,isSelectedAll:t.isSelectedAll,isAnyItemSelected:t.isAnyItemSelected,keymap:t.keymap,displayMode:t.displayMode,changeDisplayMode:t.changeDisplayMode,changeOrderBy:t.changeOrderBy,changePageSize:t.changePageSize,sort:t.sort,searchChange:t.searchChange,from:t.from,to:t.to,total:t.total,perPage:t.perPage,company:t.company,i:t.i}}),t._v(" "),t.isLoad?[s("list-page-listing",{attrs:{company:t.company,i:t.i,displayMode:t.displayMode,selectedItems:t.selectedItems,toggleItem:t.toggleItem,lastPage:t.lastPage,perPage:t.perPage,page:t.page,changePage:t.changePage,handleContextMenu:t.handleContextMenu,onContextMenuAction:t.onContextMenuAction}})]:[s("div",{staticClass:"loading"})]],2)],1)},r=[],c=s("2909"),o=(s("4e82"),s("ac1f"),s("841c"),s("d81d"),s("fb6a"),s("caad"),s("2532"),s("4de4"),s("99af"),s("bc3a"),s("2b47")),d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-row",[s("b-colxx",{attrs:{xxs:"12"}},[s("h1"),t._v(" "),s("piaf-breadcrumb"),t._v(" "),s("div",{staticClass:"mb-2 mt-2"},[s("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.displayOptions",modifiers:{displayOptions:!0}}],staticClass:"pt-0 pl-0 d-inline-block d-md-none",attrs:{variant:"empty"}},[t._v("\n        "+t._s(t.$t("pages.display-options"))+"\n        "),s("i",{staticClass:"simple-icon-arrow-down align-middle"})]),t._v(" "),s("b-collapse",{staticClass:"d-md-block",attrs:{id:"displayOptions"}},[s("span",{staticClass:"mr-3 d-inline-block float-md-left"},[s("a",{class:{"mr-2 view-icon":!0,active:"list"===t.displayMode},on:{click:function(e){return t.changeDisplayMode("list")}}},[s("data-list-icon")],1),t._v(" "),s("a",{class:{"mr-2 view-icon":!0,active:"thumb"===t.displayMode},on:{click:function(e){return t.changeDisplayMode("thumb")}}},[s("thumb-list-icon")],1)]),t._v(" "),s("div",{staticClass:"d-block d-md-inline-block pt-1"},[s("b-dropdown",{staticClass:"mr-1 float-md-left btn-group",attrs:{id:"ddown1",text:t.$t("order.orderBy")+" : "+t.sort.label,variant:"outline-dark",size:"xs"}},t._l(t.sortOptions,(function(e,a){return s("b-dropdown-item",{key:a,on:{click:function(s){return t.changeOrderBy(e)}}},[t._v(t._s(e.label))])})),1),t._v(" "),s("div",{staticClass:"search-sm d-inline-block float-md-left mr-1 align-top"},[s("b-input",{attrs:{placeholder:t.$t("menu.search")},on:{input:function(e){return t.searchChange(e)}}})],1),t._v(" "),s("div",{staticClass:"d-inline-block float-md-left mr-1 "},[s("b-refresh-button",{on:{click:t.refreshButtonClick}})],1)],1),t._v(" "),s("div",{staticClass:"float-md-right pt-1"},[s("span",{staticClass:"text-muted text-small mr-1 mb-2"},[t._v(t._s(t.from)+"-"+t._s(t.to)+" of "+t._s(t.total))]),t._v(" "),s("b-dropdown",{staticClass:"d-inline-block",attrs:{id:"ddown2",right:"",text:""+t.perPage,variant:"outline-dark",size:"xs"}},t._l(t.pageSizes,(function(e,a){return s("b-dropdown-item",{key:a,on:{click:function(s){return t.changePageSize(e)}}},[t._v(t._s(e))])})),1)],1)])],1),t._v(" "),s("div",{staticClass:"separator mb-5"})],1)],1)},m=[],u=s("edd6"),h=s("3fea"),g={mixins:[u["a"]],components:{"data-list-icon":h["a"],"thumb-list-icon":h["e"],"image-list-icon":h["b"]},props:["title","selectAll","isSelectedAll","isAnyItemSelected","keymap","displayMode","changeDisplayMode","changeOrderBy","changePageSize","sort","searchChange","from","to","total","perPage","company","i"],data:function(){return{categories:[{label:"Cakes",value:"Cakes"},{label:"Cupcakes",value:"Cupcakes"},{label:"Desserts",value:"Desserts"}],statuses:[{text:"ON HOLD",value:"ON HOLD"},{text:"PROCESSED",value:"PROCESSED"}],sortOptions:[{column:"townName",label:this.$t("order.townName")},{column:"createdAt",label:this.$t("order.createdAt")},{column:"price",label:this.$t("order.amount")}],pageSizes:[4,8,12]}},methods:{refreshButtonClick:function(){this.initOrder(1,10,this.company.id,this.i)}}},p=g,v=s("2877"),f=Object(v["a"])(p,d,m,!1,null,null,null),x=f.exports,b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",["thumb"===t.displayMode?s("b-row",{key:"thumb"},[t.company.orders.isLoading?s("div",{staticClass:"inner"},[s("div",{staticClass:"loading"})]):t._l(t.company.orders.data,(function(e,a){return s("b-colxx",{key:a,staticClass:"mb-3",attrs:{xxs:"12",id:e.id}},[s("thumb-list-item",{directives:[{name:"contextmenu",rawName:"v-contextmenu:contextmenu",arg:"contextmenu"}],key:e.orderNo,attrs:{order:e,"selected-items":t.selectedItems},on:{"toggle-item":t.toggleItem}})],1)}))],2):"list"===t.displayMode?s("b-row",{key:"list"},[t.company.orders.isLoading?s("div",{staticClass:"inner"},[s("div",{staticClass:"loading"})]):t._l(t.company.orders.data,(function(e,a){return s("b-colxx",{key:a,staticClass:"mb-3",attrs:{xxs:"12",id:e.orderNo}},[s("data-list-item",{directives:[{name:"contextmenu",rawName:"v-contextmenu:contextmenu",arg:"contextmenu"}],key:e.orderNo,attrs:{data:e,"selected-items":t.selectedItems},on:{"toggle-item":t.toggleItem}})],1)}))],2):t._e(),t._v(" "),t.lastPage>1?s("b-row",[s("b-colxx",{attrs:{xxs:"12"}},[s("b-pagination-nav",{attrs:{"number-of-pages":t.lastPage,"link-gen":t.linkGen,value:t.page,"per-page":t.perPage,align:"center"},on:{change:function(e){return t.changePage(e)}},scopedSlots:t._u([{key:"next-text",fn:function(){return[s("i",{staticClass:"simple-icon-arrow-right"})]},proxy:!0},{key:"prev-text",fn:function(){return[s("i",{staticClass:"simple-icon-arrow-left"})]},proxy:!0},{key:"first-text",fn:function(){return[s("i",{staticClass:"simple-icon-control-start"})]},proxy:!0},{key:"last-text",fn:function(){return[s("i",{staticClass:"simple-icon-control-end"})]},proxy:!0}],null,!1,2104427419)})],1)],1):t._e(),t._v(" "),s("v-contextmenu",{ref:"contextmenu",on:{contextmenu:t.handleContextMenu}},[s("v-contextmenu-item",{on:{click:function(e){return t.onContextMenuAction("copy")}}},[s("i",{staticClass:"simple-icon-docs"}),t._v(" "),s("span",[t._v("Copy")])]),t._v(" "),s("v-contextmenu-item",{on:{click:function(e){return t.onContextMenuAction("move-to-archive")}}},[s("i",{staticClass:"simple-icon-drawer"}),t._v(" "),s("span",[t._v("Move to archive")])]),t._v(" "),s("v-contextmenu-item",{on:{click:function(e){return t.onContextMenuAction("delete")}}},[s("i",{staticClass:"simple-icon-trash"}),t._v(" "),s("span",[t._v("Delete")])])],1)],1)},w=[],_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-card",{class:{active:t.selectedItems.includes(t.data.id)},attrs:{"no-body":""},on:{click:function(e){return e.preventDefault(),t.toggleItem(e,t.data.id)}}},[s("div",{staticClass:"position-relative"},[s("router-link",{staticClass:"w-40 w-sm-100",attrs:{to:"?p="+t.data.id}},[s("img",{staticClass:"card-img-top",attrs:{src:t.data.img,alt:t.data.title}})]),t._v(" "),s("b-badge",{staticClass:"position-absolute badge-top-left",attrs:{pill:"",variant:t.data.statusColor}},[t._v(t._s(t.data.status))])],1),t._v(" "),s("b-card-body",[s("b-row",[s("b-colxx",{attrs:{xxs:"2"}},[s("b-form-checkbox",{staticClass:"itemCheck mb-0",attrs:{checked:t.selectedItems.includes(t.data.id)}})],1),t._v(" "),s("b-colxx",{staticClass:"mb-3",attrs:{xxs:"10"}},[s("h6",{staticClass:"mb-4 card-subtitle"},[t._v(t._s(t.data.title))]),t._v(" "),s("p",{staticClass:"text-muted text-small mb-0 font-weight-light card-text"},[t._v(t._s(t.data.date))])])],1)],1)],1)},C=[],y={props:["data","selectedItems"],methods:{toggleItem:function(t,e){this.$emit("toggle-item",t,e)}}},k=y,I=Object(v["a"])(k,_,C,!1,null,null,null),M=I.exports,A=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-card",{class:{"d-flex flex-row":!0,active:t.selectedItems.includes(t.order.id)},attrs:{"no-body":""},on:{click:function(e){return e.preventDefault(),t.toggleItem(e,t.order.id)}}},[s("router-link",{staticClass:"d-flex",attrs:{to:"?p="+t.order.id}},[s("img",{staticClass:"list-thumbnail responsive border-0",attrs:{src:t.setStatus(t.order.status).img,alt:t.order.orderNo}})]),t._v(" "),s("div",{staticClass:"pl-2 d-flex flex-grow-1 min-width-zero"},[s("div",{staticClass:"card-body align-self-center d-flex flex-column flex-lg-row justify-content-between min-width-zero align-items-lg-center"},[s("router-link",{staticClass:"w-15 w-sm-100",attrs:{to:"/app/orders/"+t.order.orderNo}},[s("p",{staticClass:"list-item-heading mb-0 truncate"},[t._v(t._s(t.order.orderNo))])]),t._v(" "),s("p",{staticClass:"mb-0 text-muted text-small w-15 w-sm-100"},[t._v(t._s(t.order.customerName))]),t._v(" "),s("p",{staticClass:"mb-0 text-muted text-small w-15 w-sm-100"},[t._v(t._s(t.order.townName))]),t._v(" "),s("p",{staticClass:"mb-0 text-muted text-small w-15 w-sm-100"},[t._v(t._s(null==t.order.futureDate?t.$t("order.now"):t.setDate(t.order.futureDate)))]),t._v(" "),s("div",{staticClass:"w-15 w-sm-100"},[s("b-badge",{attrs:{variant:t.setStatus(t.order.status).color,pill:""}},[t._v(t._s(t.setStatus(t.order.status).text))])],1),t._v(" "),s("p",{staticClass:"mb-0 text-muted text-small w-10 w-sm-100"},[t._v(t._s(t.order.price.toFixed(2))+"TL ")])],1),t._v(" "),s("div",{staticClass:"custom-control custom-checkbox pl-1 align-self-center pr-4"},[s("b-form-checkbox",{staticClass:"itemCheck mb-0",attrs:{checked:t.selectedItems.includes(t.order.id)}})],1)])],1)},O=[],H={props:["order","selectedItems"],methods:{toggleItem:function(t,e){this.$emit("toggle-item",t,e)},setStatus:function(t){return 0==t?{color:"purple",text:this.$t("order.new"),img:s("3b69")}:1==t?{color:"info",text:this.$t("order.preparing"),img:s("5240")}:2==t?{color:"warning",text:this.$t("order.onWay"),img:s("4090")}:3==t?{color:"success",text:this.$t("order.done"),img:s("ac27")}:{color:"danger",text:this.$t("order.canceled"),img:s("1194")}}}},P=H,$=Object(v["a"])(P,A,O,!1,null,null,null),S=$.exports,V=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-card",{class:{"d-flex flex-row":!0,active:t.selectedItems.includes(t.data.id)},attrs:{"no-body":""},on:{click:function(e){return e.preventDefault(),t.toggleItem(e,t.data.id)}}},[s("div",{staticClass:"pl-2 d-flex flex-grow-1 min-width-zero"},[s("div",{staticClass:"card-body align-self-center d-flex flex-column flex-lg-row justify-content-between min-width-zero align-items-lg-center"},[s("router-link",{staticClass:"w-40 w-sm-100",attrs:{to:"?p="+t.data.id}},[s("p",{staticClass:"list-item-heading mb-0 truncate"},[t._v(t._s(t.data.title))])]),t._v(" "),s("p",{staticClass:"mb-0 text-muted text-small w-15 w-sm-100"},[t._v(t._s(t.data.category))]),t._v(" "),s("p",{staticClass:"mb-0 text-muted text-small w-15 w-sm-100"},[t._v(t._s(t.data.date))]),t._v(" "),s("div",{staticClass:"w-15 w-sm-100"},[s("b-badge",{attrs:{pill:"",variant:t.data.statusColor}},[t._v(t._s(t.data.status))])],1)],1),t._v(" "),s("div",{staticClass:"custom-control custom-checkbox pl-1 align-self-center pr-4"},[s("b-form-checkbox",{staticClass:"itemCheck mb-0",attrs:{checked:t.selectedItems.includes(t.data.id)}})],1)])])},D=[],j={props:["data","selectedItems"],methods:{toggleItem:function(t,e){this.$emit("toggle-item",t,e)}}},B=j,E=Object(v["a"])(B,V,D,!1,null,null,null),N=E.exports,z={components:{"image-list-item":M,"thumb-list-item":S,"data-list-item":N},props:["displayMode","items","selectedItems","toggleItem","lastPage","perPage","page","changePage","handleContextMenu","onContextMenuAction","company","i"],methods:{linkGen:function(t){return"#page-"+t}}},Z=z,L=Object(v["a"])(Z,b,w,!1,null,null,null),G=L.exports,J={props:{company:{default:function(){}},i:{default:-1}},components:{"list-page-heading":x,"list-page-listing":G},data:function(){return{isLoad:!0,apiBase:o["b"]+"/cakes/fordatatable",displayMode:"thumb",sort:{column:"createdAt",label:this.$t("order.createdAt")},page:1,perPage:4,search:"",from:0,to:0,total:0,lastPage:0,items:[],selectedItems:[]}},methods:{changeDisplayMode:function(t){this.displayMode=t},changePageSize:function(t){this.page=1,this.perPage=t},changeOrderBy:function(t){this.sort=t},searchChange:function(t){this.search=t,this.page=1},selectAll:function(t){this.selectedItems.length>=this.items.length?t&&(this.selectedItems=[]):this.selectedItems=this.items.map((function(t){return t.id}))},keymap:function(t){switch(t.srcKey){case"select":this.selectAll(!1);break;case"undo":this.selectedItems=[];break}},getIndex:function(t,e,s){for(var a=0;a<e.length;a++)if(e[a][s]===t)return a;return-1},toggleItem:function(t,e){if(t.shiftKey&&this.selectedItems.length>0){var s,a=this.items,i=this.getIndex(e,a,"id"),n=this.getIndex(this.selectedItems[this.selectedItems.length-1],a,"id");a=a.slice(Math.min(i,n),Math.max(i,n)+1),(s=this.selectedItems).push.apply(s,Object(c["a"])(a.map((function(t){return t.id}))))}else this.selectedItems.includes(e)?this.selectedItems=this.selectedItems.filter((function(t){return t!==e})):this.selectedItems.push(e)},handleContextMenu:function(t){this.selectedItems.includes(t.key)||(this.selectedItems=[t.key])},onContextMenuAction:function(t){console.log("context menu item clicked - "+t+": ",this.selectedItems)},changePage:function(t){this.page=t}},computed:{isSelectedAll:function(){return this.selectedItems.length>=this.items.length},isAnyItemSelected:function(){return this.selectedItems.length>0&&this.selectedItems.length<this.items.length},apiUrl:function(){return"".concat(this.apiBase,"?sort=").concat(this.sort.column,"&page=").concat(this.page,"&per_page=").concat(this.perPage,"&search=").concat(this.search)}},watch:{search:function(){this.page=1},apiUrl:function(){this.loadItems()}}},K=J,R=Object(v["a"])(K,l,r,!1,null,null,null),U=R.exports,F=s("2f62"),T={computed:Object(n["a"])({},Object(F["c"])(["currentCompanies"])),components:{OrderList:U}},W=T,q=Object(v["a"])(W,a,i,!1,null,null,null);e["default"]=q.exports}}]);