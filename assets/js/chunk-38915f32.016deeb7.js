(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-38915f32"],{"2f6f":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-tabs",t._l(t.currentCompanies,(function(t,e){return s("b-tab",{key:e,attrs:{title:t.name}},[s("ProductList",{attrs:{company:t,i:e}})],1)})),1)],1)},i=[],c=s("5530"),n=s("2f62"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-row",[s("b-colxx",{staticClass:"disable-text-selection"},[s("list-page-heading",{attrs:{title:t.$t("menu.data-list"),selectAll:t.selectAll,isSelectedAll:t.isSelectedAll,isAnyItemSelected:t.isAnyItemSelected,keymap:t.keymap,selectedItems:t.selectedItems,displayMode:t.displayMode,changeDisplayMode:t.changeDisplayMode,changeOrderBy:t.changeOrderBy,changePageSize:t.changePageSize,sort:t.sort,searchChange:t.searchChange,from:t.from,to:t.to,company:t.company,i:t.i,total:t.company.products.data.length,perPage:t.perPage}}),t._v(" "),t.isLoad?[s("list-page-listing",{attrs:{displayMode:t.displayMode,items:t.company.products.data,selectedItems:t.selectedItems,toggleItem:t.toggleItem,lastPage:t.lastPage,perPage:t.perPage,page:t.page,changePage:t.changePage,handleContextMenu:t.handleContextMenu,onContextMenuAction:t.onContextMenuAction,company:t.company,i:t.i}})]:[s("div",{staticClass:"loading"})]],2)],1)},l=[],r=s("2909"),d=(s("159b"),s("ac1f"),s("5319"),s("a4d3"),s("e01a"),s("4e82"),s("841c"),s("d81d"),s("fb6a"),s("caad"),s("2532"),s("4de4"),s("99af"),s("bc3a"),s("2b47")),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-row",[s("b-colxx",{staticClass:"mt-2",attrs:{xxs:"12"}},[s("h1"),t._v(" "),s("div",{staticClass:"top-right-button-container"},[s("b-button",{staticClass:"top-right-button",attrs:{variant:"primary",size:"lg"},on:{click:function(e){return t.$router.push("/app/products/new?company="+t.i)}}},[t._v(t._s(t.$t("products.addNew")))]),t._v(" "),s("b-button-group",[s("b-dropdown",{staticClass:"check-button",attrs:{split:"",right:"",variant:"primary"},on:{click:function(e){return t.selectAll(!0)}}},[s("label",{staticClass:"custom-control custom-checkbox pl-4 mb-0 d-inline-block",attrs:{slot:"button-content"},slot:"button-content"},[s("input",{directives:[{name:"shortkey",rawName:"v-shortkey",value:{select:["ctrl","a"],undo:["ctrl","d"]},expression:"{ select: ['ctrl', 'a'], undo: ['ctrl', 'd'] }"}],staticClass:"custom-control-input",attrs:{type:"checkbox"},domProps:{checked:t.isSelectedAll},on:{shortkey:t.keymap}}),t._v(" "),s("span",{class:{"custom-control-label":!0,indeterminate:t.isAnyItemSelected}},[t._v(" ")])]),t._v(" "),s("b-dropdown-item",{on:{click:function(e){return t.setItem("%","discount",t.selectedItems,"oldPrice")}}},[t._v(t._s(t.$t("products.updateDiscountOfSelectedItem",{length:t.selectedItems.length})))]),t._v(" "),s("b-dropdown-item",{on:{click:function(e){return t.setItem("TL","price",t.selectedItems,"oldPrice")}}},[t._v(t._s(t.$t("products.updatePriceOfSelectedItem",{length:t.selectedItems.length})))]),t._v(" "),s("b-dropdown-item",[t._v(t._s(t.$t("products.updateStockOfSelectedItem",{length:t.selectedItems.length})))]),t._v(" "),s("b-dropdown-divider"),t._v(" "),s("b-dropdown-item",{on:{click:function(e){return t.setItem("circle","isActive",t.selectedItems,"oldIsActive",0)}}},[t._v(t._s(t.$t("products.closeOfSelectedItem",{length:t.selectedItems.length})))]),t._v(" "),s("b-dropdown-item",{on:{click:function(e){return t.setItem("circle","isActive",t.selectedItems,"oldIsActive",1)}}},[t._v(t._s(t.$t("products.activeOfSelectedItem",{length:t.selectedItems.length})))])],1)],1)],1),t._v(" "),s("piaf-breadcrumb"),t._v(" "),s("div",{staticClass:"mb-2 mt-2"},[s("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.displayOptions",modifiers:{displayOptions:!0}}],staticClass:"pt-0 pl-0 d-inline-block d-md-none",attrs:{variant:"empty"}},[t._v("\n        "+t._s(t.$t("pages.display-options"))+"\n        "),s("i",{staticClass:"simple-icon-arrow-down align-middle"})]),t._v(" "),s("b-collapse",{staticClass:"d-md-block",attrs:{id:"displayOptions"}},[s("span",{staticClass:"mr-3 d-inline-block float-md-left"},[s("a",{class:{"mr-2 view-icon":!0,active:"list"===t.displayMode},on:{click:function(e){return t.changeDisplayMode("list")}}},[s("data-list-icon")],1),t._v(" "),s("a",{class:{"mr-2 view-icon":!0,active:"thumb"===t.displayMode},on:{click:function(e){return t.changeDisplayMode("thumb")}}},[s("thumb-list-icon")],1),t._v(" "),s("a",{class:{"mr-2 view-icon":!0,active:"image"===t.displayMode},on:{click:function(e){return t.changeDisplayMode("image")}}},[s("image-list-icon")],1)]),t._v(" "),s("div",{staticClass:"d-block d-md-inline-block pt-1"},[s("b-dropdown",{staticClass:"mr-1 float-md-left btn-group",attrs:{id:"ddown1",text:t.$t("general.chooseCategory")+" "+t.sort.label,variant:"outline-dark",size:"xs"}},t._l(t.sortOptions,(function(e,a){return s("b-dropdown-item",{key:a,on:{click:function(s){return t.changeOrderBy(e)}}},[t._v(t._s(e.label))])})),1),t._v(" "),s("div",{staticClass:"search-sm d-inline-block float-md-left mr-1 align-top"},[s("b-input",{attrs:{placeholder:t.$t("menu.search")},on:{input:function(e){return t.searchChange(e)}}})],1),t._v(" "),s("b-dropdown",{staticClass:"mr-1 float-md-left btn-group",attrs:{id:"dropdown-1",size:"xs",variant:"outline-dark",text:t.$t("products.showProducts")}},[s("b-dropdown-item",[t._v(t._s(t.$t("products.justpassiveProducts")))]),t._v(" "),s("b-dropdown-item",[t._v(t._s(t.$t("products.justactiveProducts")))]),t._v(" "),s("b-dropdown-item",[t._v(t._s(t.$t("products.justverifyProducts")))]),t._v(" "),s("b-dropdown-item",[t._v(t._s(t.$t("products.justhasDiscountProducts")))]),t._v(" "),s("b-dropdown-item",[t._v(t._s(t.$t("products.justhasntDiscountProducts")))])],1)],1),t._v(" "),s("div",{staticClass:"float-md-right pt-1 d-flex align-items-center"},[s("span",{staticClass:"text-muted text-small mr-1 mb-2"},[t._v(t._s(t.selectedItems.length)+" of "+t._s(t.total))]),t._v(" "),0!=t.selectedItems.length?s("b-dropdown",{staticClass:"mx-1 float-md-left btn-group",attrs:{id:"dropdown-1",size:"sm",dropleft:"",variant:"outline-primary",text:t.$t("products.multiAction")+" ("+t.selectedItems.length+")"}},[s("b-dropdown-item",{on:{click:function(e){return t.setItem("%","discount",t.selectedItems,"oldPrice")}}},[t._v(t._s(t.$t("products.updateDiscountOfSelectedItem",{length:t.selectedItems.length})))]),t._v(" "),s("b-dropdown-item",{on:{click:function(e){return t.setItem("TL","price",t.selectedItems,"oldPrice")}}},[t._v(t._s(t.$t("products.updatePriceOfSelectedItem",{length:t.selectedItems.length})))]),t._v(" "),s("b-dropdown-item",[t._v(t._s(t.$t("products.updateStockOfSelectedItem",{length:t.selectedItems.length})))]),t._v(" "),s("b-dropdown-divider"),t._v(" "),s("b-dropdown-item",{on:{click:function(e){return t.setItem("circle","isActive",t.selectedItems,"oldIsActive",0)}}},[t._v(t._s(t.$t("products.closeOfSelectedItem",{length:t.selectedItems.length})))]),t._v(" "),s("b-dropdown-item",{on:{click:function(e){return t.setItem("circle","isActive",t.selectedItems,"oldIsActive",1)}}},[t._v(t._s(t.$t("products.activeOfSelectedItem",{length:t.selectedItems.length})))])],1):t._e()],1)])],1),t._v(" "),s("div",{staticClass:"separator mb-2"}),t._v(" "),s("div",{staticClass:"mb-4"},[s("b-button-group",{attrs:{variant:"outline-primary",size:"xs"}},[s("b-button",{attrs:{variant:"primary"}},[t._v(t._s(t.$t("general.showAll")))]),t._v(" "),s("b-button",{attrs:{variant:"outline-primary"}},[s("i",{staticClass:"simple-icon-check mr-1"}),t._v("\n          "+t._s(t.$t("products.justactiveProducts")))]),t._v(" "),s("b-button",{attrs:{variant:"outline-primary"}},[s("i",{staticClass:"iconsminds-key-lock mr-1"}),t._v("\n          "+t._s(t.$t("products.justverifyProducts")))]),t._v(" "),s("b-button",{attrs:{variant:"outline-primary"}},[s("i",{staticClass:"iconsminds-lock-2 mr-1"}),t._v("\n          "+t._s(t.$t("products.justpassiveProducts")))])],1)],1)],1),t._v(" "),s("b-modal",{attrs:{"ok-disabled":t.alert.status||t.isLoading,"ok-title":t.isLoading?t.$t("general.isLoading"):t.$t("general.update"),"cancel-title":t.$t("general.close"),"ok-variant":"warning",title:t.$t("products.updateProduct"),id:"multi-product-update",centered:""},on:{ok:t.setUpdateProduct,hidden:function(e){t.show=!1}}},["isActive"!=t.selectedItemsWithData.type?s("div",[s("b-alert",{attrs:{variant:"danger",show:t.alert.status}},[t._v("\n        "+t._s(t.alert.text)+"\n      ")]),t._v(" "),s("h6",[t._v(t._s(t.$t("products."+t.selectedItemsWithData.type)))]),t._v(" "),s("b-row",{staticClass:"my-4"},[s("b-colxx",[s("b-button",{attrs:{block:"",size:"xs",variant:("inc"!=t.selectedItemsWithData.status?"outline-":"")+"primary"},on:{click:function(e){t.selectedItemsWithData.status="inc"}}},[t._v("Ekle")])],1),t._v(" "),s("b-colxx",[s("b-button",{attrs:{block:"",size:"xs",variant:("dec"!=t.selectedItemsWithData.status?"outline-":"")+"primary"},on:{click:function(e){t.selectedItemsWithData.status="dec"}}},[t._v("Azalt")])],1)],1),t._v(" "),s("b-input",{staticClass:"w-100",attrs:{type:"number",placeholder:t.$t("products.newValue")},on:{input:function(e){return t.controlInput(e)}},model:{value:t.selectedItemsWithData.text,callback:function(e){t.$set(t.selectedItemsWithData,"text",t._n(e))},expression:"selectedItemsWithData.text"}}),t._v(" "),s("div",{staticClass:"mt-4"},[s("h6",{staticClass:"mb-4"},[t._v("\n          * "+t._s(t.$t("products."+t.selectedItemsWithData.type+"DescriptionPlural"))+"\n        ")]),t._v(" "),t._l(t.selectedItemsWithData.data,(function(e,a){return s("h3",{key:a,staticClass:"mb-4 text-center position-relative"},["inc"==t.selectedItemsWithData.status?s("div",{staticClass:"position-absolute",staticStyle:{left:"0"}},[100<e[t.selectedItemsWithData.type]+t.selectedItemsWithData.text&&"discount"==t.selectedItemsWithData.type?s("i",{staticClass:"simple-icon-exclamation text-warning h3"}):s("i",{staticClass:"simple-icon-check text-success h3"})]):s("div",{staticClass:"position-absolute",staticStyle:{left:"0"}},[0>e[t.selectedItemsWithData.type]-t.selectedItemsWithData.text?s("i",{staticClass:"simple-icon-exclamation text-warning h3"}):s("i",{staticClass:"simple-icon-check text-success h3"})]),t._v(" "),s("p",[t._v(t._s(e.name))]),t._v(" "),s("div",{staticClass:"text-right"},[s("b-button",{attrs:{size:"xs",variant:"danger"},on:{click:function(e){return t.selectedItemsWithData.data.splice(a,1)}}},[t._v(t._s(t.$t("general.remove")))])],1),t._v(" "),s("strong",{staticClass:"text-danger"},[t._v(t._s(e[t.selectedItemsWithData.type])+"\n            "+t._s(t.selectedItemsWithData.val)+"\n          ")]),t._v(" "),s("i",{staticClass:"iconsminds-arrow-out-right text-info"}),t._v(" "),"inc"==t.selectedItemsWithData.status?s("strong",{staticClass:"text-success position-relative"},[t._v("\n            \n            "+t._s(e[t.selectedItemsWithData.type]+t.selectedItemsWithData.text)+"\n            "+t._s(t.selectedItemsWithData.val)+"\n          ")]):s("strong",{staticClass:"text-success"},[t._v(t._s(e[t.selectedItemsWithData.type]-t.selectedItemsWithData.text)+"\n            "+t._s(t.selectedItemsWithData.val)+"\n          ")]),t._v(" "),s("hr")])}))],2)],1):s("div",{staticClass:"text-center"},[1==t.selectedItemsWithData.isActive?s("strong",{domProps:{innerHTML:t._s(t.$t("products.isActiveDescription1"))}}):s("strong",{domProps:{innerHTML:t._s(t.$t("products.isActiveDescription0"))}}),t._v(" "),s("hr"),t._v(" "),t._l(t.selectedItemsWithData.data,(function(e,a){return s("h3",{key:a,staticClass:"mb-4 text-center position-relative"},[s("p",[s("strong",[t._v(t._s(e.name)+" ")])]),t._v(" "),s("div",{staticClass:"text-right"},[s("b-button",{attrs:{size:"xs",variant:"danger"},on:{click:function(e){return t.selectedItemsWithData.data.splice(a,1)}}},[t._v(t._s(t.$t("general.remove")))])],1),t._v(" "),s("strong",{class:{"text-danger":0==e.isActive,"text-success":1==e.isActive}},[t._v("\n            "+t._s(0==e.isActive?t.$t("products.closed"):t.$t("products.active"))+"\n          ")]),t._v(" "),s("i",{staticClass:"iconsminds-arrow-out-right text-info"}),t._v(" "),s("strong",{class:{"text-danger":0==t.selectedItemsWithData.text,"text-success":1==t.selectedItemsWithData.text}},[t._v("\n            "+t._s(0==t.selectedItemsWithData.text?t.$t("products.closed"):t.$t("products.active"))+"\n          ")]),t._v(" "),s("hr")])}))],2)])],1)},m=[],p=s("3fea"),h={components:{"data-list-icon":p["a"],"thumb-list-icon":p["e"],"image-list-icon":p["b"]},props:["title","selectAll","isSelectedAll","isAnyItemSelected","selectedItems","keymap","displayMode","changeDisplayMode","changeOrderBy","changePageSize","sort","searchChange","from","to","total","perPage","company","i"],data:function(){return{isLoading:!1,show:!1,inc:[],dec:[],selectedItemsWithData:{data:[],text:null,val:"",type:"",status:"inc"},updateData:{val:"TL",type:"price",oldType:"oldPrice",price:0,oldPrice:0,discount:0,oldDiscount:0,isActive:0,oldIsActive:0},alert:{status:!1,text:""},categories:[{label:"Cakes",value:"Cakes"},{label:"Cupcakes",value:"Cupcakes"},{label:"Desserts",value:"Desserts"}],statuses:[{text:"ON HOLD",value:"ON HOLD"},{text:"PROCESSED",value:"PROCESSED"}],sortOptions:[{column:"name",label:this.$t("products.name")},{column:"category",label:"Category"},{column:"status",label:"Status"}],pageSizes:[4,8,12]}},watch:{"selectedItemsWithData.text":function(t){this.controlItem(t)},"selectedItemsWithData.status":function(){this.controlItem(this.selectedItemsWithData.text)},"selectedItemsWithData.data":{deep:!0,handler:function(){this.controlItem(this.selectedItemsWithData.text)}}},methods:{controlInput:function(t){(t<0||null==t)&&(this.selectedItemsWithData.text=0)},controlItem:function(t){var e=this.selectedItemsWithData,s=[];"inc"==e.status&&"discount"==e.type?(s=e.data.filter((function(e){return 100<e.discount+t})),console.log(s),s.length>0?this.alert={status:!0,text:this.$t("products.alert.mustBeDown100".concat("discount"==this.selectedItemsWithData.type?"Discount":"Price"))}:this.alert={status:!1}):"dec"==e.status?(s=e.data.filter((function(s){return 0>s[e.type]-t})),s.length>0?this.alert={status:!0,text:this.$t("products.alert.mustBeUp0".concat("discount"==this.selectedItemsWithData.type?"Discount":"Price"))}:this.alert={status:!1}):this.alert={status:!1}},setUpdateProduct:function(){console.log(this.updateData)},setFastlyDiscount:function(){this.inc=[{count:5,text:this.$t("products.increment",{data:"5 ".concat(this.selectedItemsWithData.val)})},{count:10,text:this.$t("products.increment",{data:"10 ".concat(this.selectedItemsWithData.val)})},{count:20,text:this.$t("products.increment",{data:"20 ".concat(this.selectedItemsWithData.val)})},{count:25,text:this.$t("products.increment",{data:"25 ".concat(this.selectedItemsWithData.val)})}],this.dec=[{count:5,text:this.$t("products.decrement",{data:"5 ".concat(this.selectedItemsWithData.val)})},{count:10,text:this.$t("products.decrement",{data:"10 ".concat(this.selectedItemsWithData.val)})},{count:20,text:this.$t("products.decrement",{data:"20 ".concat(this.selectedItemsWithData.val)})},{count:25,text:this.$t("products.decrement",{data:"25 ".concat(this.selectedItemsWithData.val)})}]},setFastlyPrice:function(){this.inc=[{count:1,text:this.$t("products.increment",{data:"1 ".concat(this.selectedItemsWithData.val)})},{count:2,text:this.$t("products.increment",{data:"2 ".concat(this.selectedItemsWithData.val)})},{count:3,text:this.$t("products.increment",{data:"3 ".concat(this.selectedItemsWithData.val)})},{count:5,text:this.$t("products.increment",{data:"5 ".concat(this.selectedItemsWithData.val)})}],this.dec=[{count:1,text:this.$t("products.decrement",{data:"1 ".concat(this.selectedItemsWithData.val)})},{count:2,text:this.$t("products.decrement",{data:"2 ".concat(this.selectedItemsWithData.val)})},{count:3,text:this.$t("products.decrement",{data:"3 ".concat(this.selectedItemsWithData.val)})},{count:5,text:this.$t("products.decrement",{data:"5 ".concat(this.selectedItemsWithData.val)})}]},setItem:function(t,e,s,a){var i=this,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;console.log(s);var n=this.company.products.data,o=n.filter((function(t,e){return i.selectedItems.includes(t.id)}));this.selectedItemsWithData.data=o,this.selectedItemsWithData.val=t,this.selectedItemsWithData.text=c,this.selectedItemsWithData.type=e,this.alert={status:!1},"discount"==e?this.setFastlyDiscount():this.setFastlyPrice(),this.show=!0,setTimeout((function(){i.$bvModal.show("multi-product-update")}),250)}}},v=h,g=s("2877"),_=Object(g["a"])(v,u,m,!1,null,null,null),x=_.exports,b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.company.products.isLoading?s("div",{staticClass:"inner"},[s("div",{staticClass:"loading"})]):"image"===t.displayMode?s("b-row",{key:"image"},t._l(t.items,(function(e,a){return s("b-colxx",{key:a,staticClass:"mb-3",attrs:{sm:"6",lg:"4",xl:"3",id:e.id}},[s("image-list-item",{directives:[{name:"contextmenu",rawName:"v-contextmenu:contextmenu",arg:"contextmenu"}],key:e.id,attrs:{company:t.company,i:t.i,data:e,"product-index":a,"selected-items":t.selectedItems},on:{"toggle-item":t.toggleItem}})],1)})),1):"thumb"===t.displayMode?s("b-row",{key:"thumb"},t._l(t.items,(function(e,a){return s("b-colxx",{key:a,staticClass:"mb-3",attrs:{xxs:"12",id:e.id}},[s("thumb-list-item",{directives:[{name:"contextmenu",rawName:"v-contextmenu:contextmenu",arg:"contextmenu"}],key:e.id,attrs:{data:e,company:t.company,i:t.i,"product-index":a,"selected-items":t.selectedItems},on:{"toggle-item":t.toggleItem}})],1)})),1):"list"===t.displayMode?s("b-row",{key:"list"},t._l(t.items,(function(e,a){return s("b-colxx",{key:a,staticClass:"mb-3",attrs:{xxs:"12",id:e.id}},[s("data-list-item",{directives:[{name:"contextmenu",rawName:"v-contextmenu:contextmenu",arg:"contextmenu"}],key:e.id,attrs:{company:t.company,i:t.i,"product-index":a,data:e,"selected-items":t.selectedItems},on:{"toggle-item":t.toggleItem}})],1)})),1):t._e(),t._v(" "),t.lastPage>1?s("b-row",[s("b-colxx",{attrs:{xxs:"12"}},[s("b-pagination-nav",{attrs:{"number-of-pages":t.lastPage,"link-gen":t.linkGen,value:t.page,"per-page":t.perPage,align:"center"},on:{change:function(e){return t.changePage(e)}},scopedSlots:t._u([{key:"next-text",fn:function(){return[s("i",{staticClass:"simple-icon-arrow-right"})]},proxy:!0},{key:"prev-text",fn:function(){return[s("i",{staticClass:"simple-icon-arrow-left"})]},proxy:!0},{key:"first-text",fn:function(){return[s("i",{staticClass:"simple-icon-control-start"})]},proxy:!0},{key:"last-text",fn:function(){return[s("i",{staticClass:"simple-icon-control-end"})]},proxy:!0}],null,!1,2104427419)})],1)],1):t._e(),t._v(" "),s("v-contextmenu",{ref:"contextmenu",on:{contextmenu:t.handleContextMenu}},[s("v-contextmenu-item",{on:{click:function(e){return t.onContextMenuAction("copy")}}},[s("i",{staticClass:"simple-icon-docs"}),t._v(" "),s("span",[t._v("Copy")])]),t._v(" "),s("v-contextmenu-item",{on:{click:function(e){return t.onContextMenuAction("move-to-archive")}}},[s("i",{staticClass:"simple-icon-drawer"}),t._v(" "),s("span",[t._v("Move to archive")])]),t._v(" "),s("v-contextmenu-item",{on:{click:function(e){return t.onContextMenuAction("delete")}}},[s("i",{staticClass:"simple-icon-trash"}),t._v(" "),s("span",[t._v("Delete")])])],1)],1)},f=[],y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-card",{class:{active:t.selectedItems.includes(t.data.id),"active-product":1==t.data.isActive,"close-product":0==t.data.isActive,"verify-product":1==t.data.isVerify},attrs:{"no-body":""},on:{click:function(e){return e.preventDefault(),t.toggleItem(e,t.data.id)}}},[s("div",{staticClass:"position-relative"},[s("router-link",{staticClass:"w-40 w-sm-100",attrs:{to:"/app/products/"+t.data.id}},[s("img",{staticClass:"card-img-top",staticStyle:{height:"200px","object-fit":"cover"},attrs:{src:t.data.path,alt:t.data.title}})]),t._v(" "),s("b-badge",{staticClass:"position-absolute badge-top-left",attrs:{pill:"",variant:t.status.variant}},[t._v(t._s(t.status.text))]),t._v(" "),s("b-badge",{staticClass:"position-absolute badge-top-left",staticStyle:{top:"35px"},attrs:{pill:"",variant:"warning"}},[t._v(t._s(t.data.productCategory))]),t._v(" "),s("b-badge",{staticClass:"position-absolute badge-top-right",attrs:{pill:"",variant:"transparent"}},[s("DropdownActions",{attrs:{"product-index":t.productIndex,company:t.company,i:t.i,data:t.data}})],1),t._v(" "),0!=t.data.discount||0!=t.data.companyDiscount?s("b-badge",{staticClass:"position-absolute badge-top-left",staticStyle:{top:"60px"},attrs:{pill:"",variant:"danger"}},[s("strong",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip"}],attrs:{title:t.$t("products.hasDiscount",{discount:0!=t.data.companyDiscount?t.data.companyDiscount:t.data.discount})}},[t._v("\n              "+t._s(t.$t("products.discountBadge",{discount:0!=t.data.companyDiscount?t.data.companyDiscount:t.data.discount}))+"\n            ")])]):t._e()],1),t._v(" "),s("b-card-body",[s("b-row",[s("b-colxx",{attrs:{xxs:"2"}},[s("b-form-checkbox",{staticClass:"itemCheck mb-0",attrs:{checked:t.selectedItems.includes(t.data.id)}})],1),t._v(" "),s("b-colxx",{staticClass:"mb-3",attrs:{xxs:"10"}},[s("h6",{staticClass:"mb-2 card-subtitle",staticStyle:{"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}},[t._v(t._s(t.data.name))]),t._v(" "),s("p",{staticClass:"text-muted text-small mb-0  card-text"},[t._v("\n                    "+t._s(t.data.description.length>50?t.data.description.substring(0,50)+"...":t.data.description)+"\n                ")]),t._v(" "),s("p",{staticClass:"text-muted text-right text-small mb-0  card-text"},[t.price.normal.status?s("span",{style:t.price.normal.style},[s("strong",[t._v(t._s(t.price.normal.price.toFixed(2))+" TL")])]):t._e(),t._v(" "),t.price.company.status?s("span",[s("strong",[t._v(t._s(t.price.company.price.toFixed(2))+" TL")])]):t._e(),t._v(" "),t.price.discount.status?s("span",[s("strong",[t._v(t._s(t.price.discount.price.toFixed(2))+" TL")])]):t._e()])])],1)],1)],1)},I=[],w=s("1da1"),C=(s("96cf"),{methods:{setUpdateMenu:function(t,e,s,a){var i=this;return Object(w["a"])(regeneratorRuntime.mark((function a(){var c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i.$store.commit("setProducts",{isLoading:!0,index:s}),a.next=3,i.$api.post(t,e);case 3:c=a.sent,console.log(c);case 5:case"end":return a.stop()}}),a)})))()}},computed:{status:function(){return 1==this.data.isVerify?{variant:"info",text:this.$t("products.verify")}:1==this.data.isActive?{variant:"success",text:this.$t("products.active")}:{variant:"danger",text:this.$t("products.closed")}},price:function(){return this.data.price?0!=this.data.companyDiscount?{company:{status:!0,price:this.data.price*(100-this.data.companyDiscount)/100},discount:{status:!1},normal:{status:!0,price:this.data.price,style:"text-decoration:line-through;color:red!important"}}:0!=this.data.discount?{company:{status:!1},discount:{status:!0,price:this.data.price*(100-this.data.discount)/100},normal:{status:!0,price:this.data.price,style:"text-decoration:line-through;color:red!important"}}:{company:{status:!1},discount:{status:!1},normal:{status:!0,price:this.data.price,style:""}}:{company:{status:!1},discount:{status:!1},normal:{status:!1}}}}}),k=s("fd1a"),D={mixins:[C],props:["data","selectedItems","company","i","productIndex"],components:{DropdownActions:k["a"]},methods:{toggleItem:function(t,e){this.$emit("toggle-item",t,e)}}},$=D,A=Object(g["a"])($,y,I,!1,null,null,null),P=A.exports,W=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-card",{class:{"d-flex flex-row":!0,active:t.selectedItems.includes(t.data.id),"active-product":1==t.data.isActive,"close-product":0==t.data.isActive,"verify-product":1==t.data.isVerify},attrs:{"no-body":""},on:{click:function(e){return e.preventDefault(),t.toggleItem(e,t.data.id)}}},[s("router-link",{staticClass:"d-flex",attrs:{to:"/app/products/"+t.data.id}},[s("img",{staticClass:"list-thumbnail responsive bdata-0",staticStyle:{height:"150px"},attrs:{src:t.data.path,alt:t.data.dataNo}})]),t._v(" "),s("list-actions",{attrs:{productIndex:t.productIndex,company:t.company,i:t.i,selectedItems:t.selectedItems,data:t.data}})],1)},M=[],O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pl-2 d-flex flex-grow-1 min-width-zero"},[s("div",{staticClass:"card-body align-self-center d-flex flex-column flex-lg-row justify-content-between min-width-zero align-items-lg-center"},[s("router-link",{staticClass:"w-15 w-sm-100",attrs:{to:"/app/products/"+t.data.id}},[s("p",{staticClass:"list-item-heading mb-0 truncate"},[t._v(t._s(t.data.name))]),t._v(" "),s("div",[s("b-badge",{staticClass:"position-absolute badge-top-left",attrs:{pill:"",variant:t.status.variant}},[t._v(t._s(t.status.text))])],1)]),t._v(" "),s("p",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip"}],staticClass:"mb-0 text-muted text-small w-25 w-sm-100",attrs:{title:t.data.description}},[t._v(t._s(t.data.description.length>70?t.data.description.substring(0,70)+"...":t.data.description))]),t._v(" "),s("p",{staticClass:"mb-0 text-muted text-small w-15 w-sm-100"},[t._v(t._s(t.data.productCategory))]),t._v(" "),s("div",{staticClass:"mb-0 w-10 w-sm-100"},[t.price.normal.status?s("h6",{style:t.price.normal.style},[s("strong",[t._v(t._s(t.price.normal.price.toFixed(2))+" TL")])]):t._e(),t._v(" "),t.price.company.status?s("h6",[s("strong",[t._v(t._s(t.price.company.price.toFixed(2))+" TL")])]):t._e(),t._v(" "),t.price.discount.status?s("h6",[s("strong",[t._v(t._s(t.price.discount.price.toFixed(2))+" TL")])]):t._e()]),t._v(" "),s("div",{staticClass:"w-15 w-sm-100"},[s("dropdown-actions",{attrs:{"product-index":t.productIndex,company:t.company,i:t.i,data:t.data}})],1)],1),t._v(" "),s("div",{staticClass:"custom-control custom-checkbox pl-1 align-self-center pr-4"},[s("b-form-checkbox",{staticClass:"itemCheck mb-0",attrs:{checked:t.selectedItems.includes(t.data.id)}}),t._v(" "),0!=t.data.discount||0!=t.data.companyDiscount?s("strong",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip"}],staticClass:"list-badge",attrs:{title:t.$t("products.hasDiscount",{discount:0!=t.data.companyDiscount?t.data.companyDiscount:t.data.discount})}},[t._v("\n            %"+t._s(0!=t.data.companyDiscount?t.data.companyDiscount:t.data.discount)+"\n          ")]):t._e(),t._v(" "),1==t.data.isVerify?s("strong",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip"}],staticClass:"list-badge-bottom",attrs:{title:"Ürün onay sürecindedir. Eski ürün satışı devam etmektedir."}},[s("i",{staticClass:"iconsminds-key-lock text-info"})]):0==t.data.isActive?s("strong",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip"}],staticClass:"list-badge-bottom",attrs:{title:"Ürün siparişe kapalı durumdadır."}},[s("i",{staticClass:"iconsminds-lock-2 text-danger"})]):s("strong",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip"}],staticClass:"list-badge-bottom",attrs:{title:"Ürün siparişe açık durumdadır."}},[s("i",{staticClass:"simple-icon-check text-success"})])],1)])},S=[],H={components:{DropdownActions:k["a"]},props:["data","selectedItems","company","i","productIndex"],mixins:[C]},j=H,L=Object(g["a"])(j,O,S,!1,null,null,null),V=L.exports,E={components:{listActions:V},props:["data","selectedItems","company","i","productIndex"],data:function(){return{isLoading:!0}},methods:{toggleItem:function(t,e){this.$emit("toggle-item",t,e)}}},z=E,B=Object(g["a"])(z,W,M,!1,null,null,null),N=B.exports,T=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-card",{class:{"d-flex flex-row":!0,active:t.selectedItems.includes(t.data.id),"active-product":1==t.data.isActive,"close-product":0==t.data.isActive,"verify-product":1==t.data.isVerify},attrs:{"no-body":""},on:{click:function(e){return e.preventDefault(),t.toggleItem(e,t.data.id)}}},[s("list-actions",{attrs:{productIndex:t.productIndex,company:t.company,i:t.i,selectedItems:t.selectedItems,data:t.data}})],1)},Z=[],F={components:{listActions:V},props:["data","selectedItems","company","i","productIndex"],methods:{toggleItem:function(t,e){this.$emit("toggle-item",t,e)}}},U=F,G=Object(g["a"])(U,T,Z,!1,null,null,null),R=G.exports,q={components:{"image-list-item":P,"thumb-list-item":N,"data-list-item":R},props:["displayMode","items","selectedItems","toggleItem","lastPage","perPage","page","changePage","handleContextMenu","company","i","onContextMenuAction"],methods:{linkGen:function(t){return"#page-"+t}}},K=q,J=Object(g["a"])(K,b,f,!1,null,null,null),Q=J.exports,X={components:{"list-page-heading":x,"list-page-listing":Q},data:function(){return{isLoad:!0,apiBase:d["b"]+"/cakes/fordatatable",displayMode:"thumb",sort:{column:"title",label:"Product Name"},page:1,perPage:4,search:"",from:0,to:0,total:0,lastPage:0,items:[],selectedItems:[],isLoading:!0,settSeach:-1}},props:{company:{default:function(){}},i:{default:-1}},methods:{initGetMenu:function(t,e,s,a){var i=this;this.$store.commit("setProducts",{isLoading:!0,index:this.i}),this.$api.post("menu/getMenu",{limit:e,offset:t,search:s,companyId:this.company.id}).then((function(e){"OK"==e.status?(e.data.forEach((function(t){t.path=t.path.replace("public/",i.$api.BASE_API_URL),null==t.description?t.description="":t.description})),i.$store.commit("setProducts",{page:t,search:s,watched:a,isLoading:!1,companyId:i.company.id,index:i.i,data:e.data,pageCount:Math.ceil(e.data[0].total/10),status:!0})):i.$store.commit("setProducts",{page:t,search:s,watched:a,isLoading:!1,companyId:i.company.id,index:i.i,data:[],pageCount:Math.ceil(e.data[0].total/10),status:!0})}))},changeDisplayMode:function(t){this.displayMode=t,this.$router.replace({query:{display:t}})},changePageSize:function(t){this.page=1,this.perPage=t},changeOrderBy:function(t){this.sort=t},searchChange:function(t){this.search=t,this.page=1},selectAll:function(t){this.selectedItems.length>=this.company.products.data.length?t&&(this.selectedItems=[]):this.selectedItems=this.company.products.data.map((function(t){return t.id}))},keymap:function(t){switch(console.log(t),t.srcKey){case"select":this.selectAll(!1);break;case"undo":this.selectedItems=[];break}},getIndex:function(t,e,s){for(var a=0;a<e.length;a++)if(e[a][s]===t)return a;return-1},toggleItem:function(t,e){if(t.shiftKey&&this.selectedItems.length>0){var s,a=this.company.products.data,i=this.getIndex(e,a,"id"),c=this.getIndex(this.selectedItems[this.selectedItems.length-1],a,"id");a=a.slice(Math.min(i,c),Math.max(i,c)+1),(s=this.selectedItems).push.apply(s,Object(r["a"])(a.map((function(t){return t.id}))))}else this.selectedItems.includes(e)?this.selectedItems=this.selectedItems.filter((function(t){return t!==e})):this.selectedItems.push(e)},handleContextMenu:function(t){this.selectedItems.includes(t.key)||(this.selectedItems=[t.key])},onContextMenuAction:function(t){console.log("context menu item clicked - "+t+": ",this.selectedItems)},changePage:function(t){this.page=t}},computed:Object(c["a"])(Object(c["a"])({},Object(n["c"])(["currentCompanies"])),{},{isSelectedAll:function(){return this.selectedItems.length>=this.company.products.data.length},isAnyItemSelected:function(){return this.selectedItems.length>0&&this.selectedItems.length<this.company.products.data.length},apiUrl:function(){return"".concat(this.apiBase,"?sort=").concat(this.sort.column,"&page=").concat(this.page,"&per_page=").concat(this.perPage,"&search=").concat(this.search)}}),watch:{search:function(t,e){var s=this;-1!=this.settSeach&&clearTimeout(this.settSeach),this.page=1,this.settSeach=setTimeout((function(){s.initGetMenu(1,10,t,!0)}),1e3)}},mounted:function(){if(this.initGetMenu(1,10,"",!1),this.$route.query.display){var t=this.$route.query.display;"image"!=t&&"thumb"!=t&&"list"!=t||(this.displayMode=t)}}},Y=X,tt=(s("85ac"),Object(g["a"])(Y,o,l,!1,null,null,null)),et=tt.exports,st={computed:Object(c["a"])({},Object(n["c"])(["currentCompanies"])),components:{ProductList:et}},at=st,it=Object(g["a"])(at,a,i,!1,null,null,null);e["default"]=it.exports},"3fea":function(t,e,s){"use strict";s.d(e,"a",(function(){return l})),s.d(e,"e",(function(){return p})),s.d(e,"b",(function(){return x})),s.d(e,"c",(function(){return w})),s.d(e,"d",(function(){return A}));var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 19 19"}},[s("path",{staticClass:"view-icon-svg",attrs:{d:"M17.5,3H.5a.5.5,0,0,1,0-1h17a.5.5,0,0,1,0,1Z"}}),t._v(" "),s("path",{staticClass:"view-icon-svg",attrs:{d:"M17.5,10H.5a.5.5,0,0,1,0-1h17a.5.5,0,0,1,0,1Z"}}),t._v(" "),s("path",{staticClass:"view-icon-svg",attrs:{d:"M17.5,17H.5a.5.5,0,0,1,0-1h17a.5.5,0,0,1,0,1Z"}})])},i=[],c=s("2877"),n={},o=Object(c["a"])(n,a,i,!1,null,null,null),l=o.exports,r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 19 19"}},[s("path",{staticClass:"view-icon-svg",attrs:{d:"M17.5,3H6.5a.5.5,0,0,1,0-1h11a.5.5,0,0,1,0,1Z"}}),t._v(" "),s("path",{staticClass:"view-icon-svg",attrs:{d:"M3,2V3H1V2H3m.12-1H.88A.87.87,0,0,0,0,1.88V3.12A.87.87,0,0,0,.88,4H3.12A.87.87,0,0,0,4,3.12V1.88A.87.87,0,0,0,3.12,1Z"}}),t._v(" "),s("path",{staticClass:"view-icon-svg",attrs:{d:"M3,9v1H1V9H3m.12-1H.88A.87.87,0,0,0,0,8.88v1.24A.87.87,0,0,0,.88,11H3.12A.87.87,0,0,0,4,10.12V8.88A.87.87,0,0,0,3.12,8Z"}}),t._v(" "),s("path",{staticClass:"view-icon-svg",attrs:{d:"M3,16v1H1V16H3m.12-1H.88a.87.87,0,0,0-.88.88v1.24A.87.87,0,0,0,.88,18H3.12A.87.87,0,0,0,4,17.12V15.88A.87.87,0,0,0,3.12,15Z"}}),t._v(" "),s("path",{staticClass:"view-icon-svg",attrs:{d:"M17.5,10H6.5a.5.5,0,0,1,0-1h11a.5.5,0,0,1,0,1Z"}}),t._v(" "),s("path",{staticClass:"view-icon-svg",attrs:{d:"M17.5,17H6.5a.5.5,0,0,1,0-1h11a.5.5,0,0,1,0,1Z"}})])},d=[],u={},m=Object(c["a"])(u,r,d,!1,null,null,null),p=m.exports,h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 19 19"}},[s("path",{staticClass:"view-icon-svg",attrs:{d:"M7,2V8H1V2H7m.12-1H.88A.87.87,0,0,0,0,1.88V8.12A.87.87,0,0,0,.88,9H7.12A.87.87,0,0,0,8,8.12V1.88A.87.87,0,0,0,7.12,1Z"}}),t._v(" "),s("path",{staticClass:"view-icon-svg",attrs:{d:"M17,2V8H11V2h6m.12-1H10.88a.87.87,0,0,0-.88.88V8.12a.87.87,0,0,0,.88.88h6.24A.87.87,0,0,0,18,8.12V1.88A.87.87,0,0,0,17.12,1Z"}}),t._v(" "),s("path",{staticClass:"view-icon-svg",attrs:{d:"M7,12v6H1V12H7m.12-1H.88a.87.87,0,0,0-.88.88v6.24A.87.87,0,0,0,.88,19H7.12A.87.87,0,0,0,8,18.12V11.88A.87.87,0,0,0,7.12,11Z"}}),t._v(" "),s("path",{staticClass:"view-icon-svg",attrs:{d:"M17,12v6H11V12h6m.12-1H10.88a.87.87,0,0,0-.88.88v6.24a.87.87,0,0,0,.88.88h6.24a.87.87,0,0,0,.88-.88V11.88a.87.87,0,0,0-.88-.88Z"}})])},v=[],g={},_=Object(c["a"])(g,h,v,!1,null,null,null),x=_.exports,b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text-center"},[s("svg",{staticClass:"main",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 9 17"}},[s("rect",{attrs:{x:"0.48",y:"0.5",width:"7",height:"1"}}),t._v(" "),s("rect",{attrs:{x:"0.48",y:"7.5",width:"7",height:"1"}}),t._v(" "),s("rect",{attrs:{x:"0.48",y:"15.5",width:"7",height:"1"}})]),t._v(" "),s("svg",{staticClass:"sub",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 17"}},[s("rect",{attrs:{x:"1.56",y:"0.5",width:"16",height:"1"}}),t._v(" "),s("rect",{attrs:{x:"1.56",y:"7.5",width:"16",height:"1"}}),t._v(" "),s("rect",{attrs:{x:"1.56",y:"15.5",width:"16",height:"1"}})])])},f=[],y={},I=Object(c["a"])(y,b,f,!1,null,null,null),w=I.exports,C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 26 17"}},[s("rect",{attrs:{x:"0.5",y:"0.5",width:"25",height:"1"}}),t._v(" "),s("rect",{attrs:{x:"0.5",y:"7.5",width:"25",height:"1"}}),t._v(" "),s("rect",{attrs:{x:"0.5",y:"15.5",width:"25",height:"1"}})])},k=[],D={},$=Object(c["a"])(D,C,k,!1,null,null,null),A=$.exports},7880:function(t,e,s){},"85ac":function(t,e,s){"use strict";s("7880")}}]);