(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bfc8d6ee"],{"08e5":function(t,e,i){"use strict";var n=function(){var t,e=this,i=e.$createElement,n=e._self._c||i;return n("b-card",{staticClass:"progress-banner",class:{"bg-image-light":e.light,"bg-image-danger":e.closed},attrs:{tag:e.to?"router-link":"div",to:e.to,"no-body":""}},[n("b-card-body",{staticClass:"justify-content-between d-flex flex-row align-items-center"},[n("div",[n("i",{class:e.icon+" mr-2 "+(e.light?"":"text-white")+" align-text-bottom d-inline-block"}),e._v(" "),n("div",[n("p",{staticClass:"lead ",class:{"text-white":!e.light}},[e._v(e._s(e.title))]),e._v(" "),n("p",{staticClass:"text-small ",class:{"text-white":!e.light}},[e._v(e._s(e.detail))])])]),e._v(" "),n("div",{staticClass:"progress-bar-circle progress-bar-banner position-relative"},[e.percent?n("h1",{class:{"text-white":!e.light}},[e._v(" "+e._s(e.percent))]):n("i",{class:(t={"text-white":!e.light},t[e.appendIcon]=!0,t)})])])],1)},r=[],a=i("531a"),s=i.n(a),o={components:{"radial-progress-bar":s.a},props:["icon","title","detail","percent","light","appendIcon","closed","to"],data:function(){return{diameterDefault:125,strokeWidthDefault:5,diameter:this.diameterDefault,strokeWidth:this.strokeWidthDefault}},mounted:function(){window.addEventListener("resize",this.handleWindowResize),this.handleWindowResize()},methods:{handleWindowResize:function(t){if(!t||t.isTrusted){var e=window.innerWidth;e<=1200?(this.diameter=84,this.strokeWidth=2):(this.diameter=this.diameterDefault,this.strokeWidth=this.strokeWidthDefault)}}}},c=o,d=(i("6eb7"),i("2877")),l=Object(d["a"])(c,n,r,!1,null,null,null);e["a"]=l.exports},"1e87":function(t,e,i){},"531a":function(t,e,i){t.exports=i("bb56").default},"6eb7":function(t,e,i){"use strict";i("f362")},7156:function(t,e,i){var n=i("861d"),r=i("d2bb");t.exports=function(t,e,i){var a,s;return r&&"function"==typeof(a=e.constructor)&&a!==i&&n(s=a.prototype)&&s!==i.prototype&&r(t,s),t}},"85bf":function(t,e,i){"use strict";i("1e87")},a9e3:function(t,e,i){"use strict";var n=i("83ab"),r=i("da84"),a=i("94ca"),s=i("6eeb"),o=i("5135"),c=i("c6b6"),d=i("7156"),l=i("c04e"),u=i("d039"),h=i("7c73"),m=i("241c").f,p=i("06cf").f,f=i("9bf2").f,g=i("58a8").trim,b="Number",k=r[b],v=k.prototype,y=c(h(v))==b,S=function(t){var e,i,n,r,a,s,o,c,d=l(t,!1);if("string"==typeof d&&d.length>2)if(d=g(d),e=d.charCodeAt(0),43===e||45===e){if(i=d.charCodeAt(2),88===i||120===i)return NaN}else if(48===e){switch(d.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+d}for(a=d.slice(2),s=a.length,o=0;o<s;o++)if(c=a.charCodeAt(o),c<48||c>r)return NaN;return parseInt(a,n)}return+d};if(a(b,!k(" 0o1")||!k("0b1")||k("+0x1"))){for(var x,w=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof w&&(y?u((function(){v.valueOf.call(i)})):c(i)!=b)?d(new k(S(e)),i,w):S(e)},_=n?m(k):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),C=0;_.length>C;C++)o(k,x=_[C])&&!o(w,x)&&f(w,x,p(k,x));w.prototype=v,v.constructor=w,s(r,b,w)}},bb56:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"radial-progress-container",style:t.containerStyle},[i("div",{staticClass:"radial-progress-inner",style:t.innerCircleStyle},[t._t("default")],2),t._v(" "),i("svg",{staticClass:"radial-progress-bar",attrs:{width:t.diameter,height:t.diameter,version:"1.1",xmlns:"http://www.w3.org/2000/svg"}},[i("defs",[i("radialGradient",{attrs:{id:"radial-gradient"+t._uid,fx:t.gradient.fx,fy:t.gradient.fy,cx:t.gradient.cx,cy:t.gradient.cy,r:t.gradient.r}},[i("stop",{attrs:{offset:"30%","stop-color":t.startColor}}),t._v(" "),i("stop",{attrs:{offset:"100%","stop-color":t.stopColor}})],1)],1),t._v(" "),i("circle",{style:t.strokeStyle,attrs:{r:t.innerCircleRadius,cx:t.radius,cy:t.radius,fill:"transparent",stroke:t.innerStrokeColor,"stroke-dasharray":t.circumference,"stroke-dashoffset":"0","stroke-linecap":t.strokeLinecap}}),t._v(" "),i("circle",{style:t.progressStyle,attrs:{transform:"rotate(270, "+t.radius+","+t.radius+")",r:t.innerCircleRadius,cx:t.radius,cy:t.radius,fill:"transparent",stroke:"url(#radial-gradient"+t._uid+")","stroke-dasharray":t.circumference,"stroke-dashoffset":t.circumference,"stroke-linecap":t.strokeLinecap}})])])},r=[],a=(i("a9e3"),i("99af"),{props:{diameter:{type:Number,required:!1,default:200},totalSteps:{type:Number,required:!0,default:10},completedSteps:{type:Number,required:!0,default:0},startColor:{type:String,required:!1,default:"#bbff42"},stopColor:{type:String,required:!1,default:"#429321"},strokeWidth:{type:Number,required:!1,default:10},innerStrokeWidth:{type:Number,required:!1,default:10},strokeLinecap:{type:String,required:!1,default:"round"},animateSpeed:{type:Number,required:!1,default:1e3},innerStrokeColor:{type:String,required:!1,default:"#323232"},fps:{type:Number,required:!1,default:60},timingFunc:{type:String,required:!1,default:"linear"},isClockwise:{type:Boolean,required:!1,default:!0}},data:function(){return{gradient:{fx:.99,fy:.5,cx:.5,cy:.5,r:.65},gradientAnimation:null,currentAngle:0,strokeDashoffset:0}},computed:{radius:function(){return this.diameter/2},circumference:function(){return Math.PI*this.innerCircleDiameter},stepSize:function(){return 0===this.totalSteps?0:100/this.totalSteps},finishedPercentage:function(){return this.stepSize*this.completedSteps},circleSlice:function(){return 2*Math.PI/this.totalSteps},animateSlice:function(){return this.circleSlice/this.totalPoints},innerCircleDiameter:function(){return this.diameter-2*this.innerStrokeWidth},innerCircleRadius:function(){return this.innerCircleDiameter/2},totalPoints:function(){return this.animateSpeed/this.animationIncrements},animationIncrements:function(){return 1e3/this.fps},hasGradient:function(){return this.startColor!==this.stopColor},containerStyle:function(){return{height:"".concat(this.diameter,"px"),width:"".concat(this.diameter,"px")}},progressStyle:function(){return{height:"".concat(this.diameter,"px"),width:"".concat(this.diameter,"px"),strokeWidth:"".concat(this.strokeWidth,"px"),strokeDashoffset:this.strokeDashoffset,transition:"stroke-dashoffset ".concat(this.animateSpeed,"ms ").concat(this.timingFunc)}},strokeStyle:function(){return{height:"".concat(this.diameter,"px"),width:"".concat(this.diameter,"px"),strokeWidth:"".concat(this.innerStrokeWidth,"px")}},innerCircleStyle:function(){return{width:"".concat(this.innerCircleDiameter,"px")}}},methods:{getStopPointsOfCircle:function(t){for(var e=[],i=0;i<t;i++){var n=this.circleSlice*i;e.push(this.getPointOfCircle(n))}return e},getPointOfCircle:function(t){var e=.5,i=e+e*Math.cos(t),n=e+e*Math.sin(t);return{x:i,y:n}},gotoPoint:function(){var t=this.getPointOfCircle(this.currentAngle);t.x&&t.y&&(this.gradient.fx=t.x,this.gradient.fy=t.y)},direction:function(){return this.isClockwise?1:-1},changeProgress:function(t){var e=this,i=t.isAnimate,n=void 0===i||i;if(this.strokeDashoffset=(100-this.finishedPercentage)/100*this.circumference*this.direction(),this.gradientAnimation&&clearInterval(this.gradientAnimation),n){var r=(this.completedSteps-1)*this.circleSlice,a=(this.currentAngle-r)/this.animateSlice,s=Math.abs(a-this.totalPoints)/this.totalPoints,o=a<this.totalPoints;this.gradientAnimation=setInterval((function(){o&&a>=e.totalPoints||!o&&a<e.totalPoints?clearInterval(e.gradientAnimation):(e.currentAngle=r+e.animateSlice*a,e.gotoPoint(),a+=o?s:-s)}),this.animationIncrements)}else this.gotoNextStep()},gotoNextStep:function(){this.currentAngle=this.completedSteps*this.circleSlice,this.gotoPoint()}},watch:{totalSteps:function(){this.changeProgress({isAnimate:!0})},completedSteps:function(){this.changeProgress({isAnimate:!0})},diameter:function(){this.changeProgress({isAnimate:!0})},strokeWidth:function(){this.changeProgress({isAnimate:!0})}},created:function(){this.changeProgress({isAnimate:!1})}}),s=a,o=(i("85bf"),i("2877")),c=Object(o["a"])(s,n,r,!1,null,null,null);e["default"]=c.exports},c0f4:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-row",[i("b-colxx",{staticClass:"mb-4"},[i("b-tabs",t._l(t.currentCompanies,(function(t,e){return i("b-tab",{key:e,attrs:{title:t.name}},[i("b-card",{staticClass:"rounded-0"},[i("CompanyWorkTime",{attrs:{company:t,i:e}})],1)],1)})),1)],1)],1)},r=[],a=i("5530"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-row",[i("b-modal",{attrs:{"ok-disabled":t.isLoading,"cancel-variant":"danger","ok-title-html":t.isLoading?"<span class='spinner-border spinner-border-sm'></span>":t.$t("general.submit"),"cancel-title":t.$t("general.close"),title:t.$t(t.updateSelectedTime.title),id:"update-work-time"},on:{ok:t.sendWorktimeUpdate}},[null!=t.updateSelectedTime.start?i("b-row",[i("b-colxx",{attrs:{sm:"12",lg:"6"}},[i("label",{attrs:{for:""}},[t._v(t._s(t.$t("workTime.start")))]),t._v(" "),i("InputSelect",{attrs:{item:t.updateSelectedTime.start,items:t.times,placeholder:t.$t("workTime.start"),loading:t.isLoading},on:{click:function(){var e=[],i=arguments.length;while(i--)e[i]=arguments[i];return t.setTimesSelect.apply(void 0,e.concat(["start"]))},loading:function(e){t.isLoading=!0},api:t.setTimes},scopedSlots:t._u([{key:"option",fn:function(e){var n=e.option;return[i("div",[t._v("\n          "+t._s(n.name)+"\n          ")])]}}],null,!1,938118780)})],1),t._v(" "),i("b-colxx",{attrs:{sm:"12",lg:"6"}},[i("label",{attrs:{for:""}},[t._v(t._s(t.$t("workTime.end")))]),t._v(" "),i("InputSelect",{attrs:{item:t.updateSelectedTime.end,items:t.times,placeholder:t.$t("workTime.end"),loading:t.isLoading},on:{click:function(){var e=[],i=arguments.length;while(i--)e[i]=arguments[i];return t.setTimesSelect.apply(void 0,e.concat(["end"]))},loading:function(e){t.isLoading=!0},api:t.setTimes},scopedSlots:t._u([{key:"option",fn:function(e){var n=e.option;return[i("div",[t._v("\n          "+t._s(n.name)+"\n          ")])]}}],null,!1,938118780)})],1)],1):t._e(),t._v(" "),i("div",{staticClass:"mt-4"},[i("b-checkbox",{attrs:{value:null,"unchecked-value":1},on:{change:t.updateSelectedTimeChange},model:{value:t.doesntWork,callback:function(e){t.doesntWork=e},expression:"doesntWork"}},[t._v(t._s(t.$t("workTime.doesntWork")))])],1)],1),t._v(" "),t.isLoading?i("div",{staticClass:"inner"},[i("div",{staticClass:"loading"})]):t.errorWorktimes.status?i("div",{staticClass:"text-center w-100"},[t._v("\n          "+t._s(t.errorWorktimes.text)+"\n        ")]):i("b-row",t._l(t.company.workTimes.data,(function(e,n){return i("b-colxx",{key:n,staticClass:"mb-4"},[i("div",{on:{click:function(i){t.updateSelectedTime={start:e.data.start,end:e.data.end,title:e.name,index:n,text:e.data.text},t.$bvModal.show("update-work-time")}}},[i("gradient-with-radial-progress-card",{attrs:{light:n%2==0||null==e.data.start||null==e.data.end,closed:null==e.data.start||null==e.data.end,icon:null==e.data.start||null==e.data.end?"iconsminds-close":"iconsminds-scooter",title:""+t.$t(e.name),detail:null==e.data.start||null==e.data.end?"KapalÄ±":e.data.start+" - "+e.data.end,appendIcon:"iconsminds-fog-day"}})],1)])})),1)],1)},o=[],c=i("ade3"),d=i("1da1"),l=(i("99af"),i("96cf"),i("08e5")),u=i("eb6d"),h={components:{GradientWithRadialProgressCard:l["a"],InputSelect:u["a"]},props:{company:{default:function(){}},i:{default:-1}},data:function(){return{doesntWork:1,times:[],updateSelectedTime:{start:"",end:"",title:"",index:-1,text:""},isLoading:!0,errorWorktimes:{status:!1,text:this.$t("error.empty")},days:[{name:"days.mon",data:{start:"09:00",end:"21:00"}},{name:"days.tue",data:{start:"09:00",end:"21:00"}},{name:"days.wed",data:{start:"09:00",end:"21:00"}},{name:"days.thu",data:{start:"09:00",end:"21:00"}},{name:"days.fri",data:{start:"09:00",end:"21:00"}},{name:"days.sat",data:{start:null,end:null}},{name:"days.sun",data:{start:null,end:null}}]}},methods:{toast:function(t,e,i){this.counter++,this.$bvToast.toast(e,{title:t,variant:i,toaster:"b-toaster-top-center",solid:!0})},sendWorktimeUpdate:function(t){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function i(){var n,r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t.preventDefault(),e.isLoading=!0,i.next=4,e.$api.post("company/putCompanyWorkTime",(n={},Object(c["a"])(n,"".concat(e.updateSelectedTime.text,"S"),e.updateSelectedTime.start),Object(c["a"])(n,"".concat(e.updateSelectedTime.text,"C"),e.updateSelectedTime.end),Object(c["a"])(n,"id",e.company.workTimes.id),n));case 4:r=i.sent,"OK"==r.status?(e.$store.commit("setUpdateWorkTimes",Object(a["a"])(Object(a["a"])({type:"single"},e.updateSelectedTime),{},{i:e.i})),e.toast(e.$t("alertMessage.success"),e.$t("alertMessage.updateSuccess"),"success"),e.$bvModal.hide("update-work-time")):e.toast(e.$t("alertMessage.error"),e.$t("alertMessage.error500"),"danger"),e.isLoading=!1;case 7:case"end":return i.stop()}}),i)})))()},updateSelectedTimeChange:function(t){null==t?(this.updateSelectedTime.start=null,this.updateSelectedTime.end=null):(this.updateSelectedTime.start="09:00:00",this.updateSelectedTime.end="22:30:00")},setTimesSelect:function(t,e){this.updateSelectedTime[e]=t},setTimes:function(){this.isLoading=!1},initTimes:function(){for(var t=0;t<24;t++)for(var e=0;e<2;e++)t<10?this.times.push("0".concat(t,":").concat(0==e?"00":"30",":00")):this.times.push("".concat(t,":").concat(0==e?"00":"30",":00"))},initWorktime:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.next=3,t.$api.post("generate/get/company_worktime",{filter:"companyId="+t.company.id});case 3:i=e.sent,"OK"==i.status?t.$store.commit("setWorkTimes",{index:t.i,data:i.data[0]}):t.errorWorktimes={status:!0,text:t.$t("error.empty")},t.isLoading=!1,console.log(t.company);case 7:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.initTimes(),this.company.workTimes.status||-1==this.i?this.isLoading=!1:this.initWorktime()}},m=h,p=i("2877"),f=Object(p["a"])(m,s,o,!1,null,null,null),g=f.exports,b=i("2f62"),k={computed:Object(a["a"])({},Object(b["c"])(["currentCompanies"])),components:{CompanyWorkTime:g}},v=k,y=Object(p["a"])(v,n,r,!1,null,null,null);e["default"]=y.exports},f362:function(t,e,i){}}]);